{{ define "main" }}
  <div class="bg"></div>
  <!-- partial:index.partial.html -->

  <div id="log"></div>
  <!-- partial -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/1.4.1/jquery.jsPlumb-1.4.1-all-min.js"></script>
  <script src="./script.js"></script>

  <div class="xq xrc wdx position-relative">
    <!-- <div class="pullOut position-fixed flex-column" x-show="pulloutTab" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 scale-90" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-90"></div> -->
    {{ partial "pull-outs/pulloutTab.html" . }}
    {{ partial "pull-outs/pulloutAccordion.html" . }}
    {{ partial "pull-outs/pulloutWisard.html" . }}
    {{ partial "pull-outs/pulloutAddress.html" . }}
    <script>
      const scroller = document.querySelector("#scroll");
      function toTop() {
        scroller.scrollTop = 0; // For Safari
        document.scroller.scrollTop = 0; // For Chrome, Firefox, IE and Opera
      }
    </script>
  </div>

  <div class="xq xrc wdx position-relative">
    <!-- <div class=" d-flex justify-content-center container h-full py-4">
      <button class="btn btn-primary mr-3" @click="pulloutTab = !pulloutTab, bodyScroll = false">togle pullout tabs</button>
      <button class="btn btn-primary mr-3" @click="pulloutAccordion = !pulloutAccordion, bodyScroll = false">togle pullout Accordion</button>
      <button class="btn btn-danger mr-3" @click="pulloutWisard = !pulloutWisard, bodyScroll = false">togle pullout wizard</button>
    </div> -->
    <div class="container-fluid">
      {{ partial "components/organisms/summary.html" . }}
    </div>
    <div class="container-fluid">
      {{ partial "components/organisms/addresses.html" . }}
    </div>

    {{ $viewActivities := false }}
    {{ if $viewActivities }}
      <div class="xxray container-fluid searchResult py-2">
        <div class="searchResult__card mt-2">
          {{ $first := 30 }}
          {{ range $index, $activitie := first $first $.Site.Data.searchResults.activities }}
            <!-- <div class="card__active card__open card__canceled card__completed  card__overdue"></div> -->
            <section
              class="card card--searchResult card__{{ $activitie.stage }}
            {{ if in "open overdue" $activitie.stage }}card__active{{ end }}
          "
            >
              <div class="card-header ">
                <div class="d-flex justify-content-between">
                  <strong class="title trim flex-grow-1 pr-2">
                    {{ $activitie.title }}
                  </strong>
                  <div class="d-flex">
                    {{ partial "components/atoms/btn.html" (dict "content" "" "class" "ml-1 btn p-0 btn-sm btn-link d-flex align-items-center " "iconEnd" "edit-r" "iconClass" "d-flex h-100 icon icon--medium text-secondary icon--color-currentColor align-items-center h-100") }}
                    {{ partial "components/atoms/btn.html" (dict "content" "" "class" "ml-1 btn p-0 btn-sm btn-link d-flex align-items-center " "iconEnd" "star-r" "iconClass" "d-flex h-100 icon icon--medium text-secondary icon--color-currentColor align-items-center h-100") }}
                  </div>
                </div>
              </div>
              <div class="card-body d-flex flex-column justify-content-between">
                <div>
                  <div>
                    <div class="text-nowrap lead py-2">
                      <!-- <strong> Regarding: </strong> -->
                      {{ $activitie.regarding }}
                    </div>
                  </div>
                  <div class="card--meta">
                    <div class="">
                      <div class="text-nowrap py-2">
                        <strong> Started: </strong>
                        <span class="pr-2">
                          {{ $activitie.started }}
                        </span>
                      </div>
                    </div>
                    <div class="">
                      <div class="text-nowrap py-2">
                        <strong> Due: </strong>
                        <span class="pr-2">
                          {{ $activitie.started }}
                        </span>
                      </div>
                    </div>

                    <div class="">
                      <div class="py-1">
                        <!-- <strong> Status: </strong> -->

                        {{ if eq $activitie.stage "open" }}
                          <span class="badge badge-pill badge-primary">Opened</span>
                        {{ else if eq $activitie.stage "canceled" }}
                          canceled
                        {{ else if eq $activitie.stage "completed" }}
                          <span class="badge badge-pill badge-success">Completed</span>
                        {{ else if eq $activitie.stage "overdue" }}
                          <span class="badge badge-pill badge-danger">Overdue</span>
                        {{ end }}
                        <!-- {{ if $activitie.isCompleted }}
                          <span class="badge badge-pill badge-secondary">Closed on {{ $activitie.started }} </span>
                        {{ else }}
                          <span class="badge badge-pill badge-warning">Opened </span>
                        {{ end }} -->
                      </div>
                    </div>
                  </div>
                </div>
                <!-- <div>
                <div class="pt-2">
                  <i>
                    {{ $activitie.description }}
                  </i>
                </div>
              </div> -->
              </div>
            </section>
          {{ end }}
        </div>
      </div>
    {{ end }}

  </div>
{{ end }}
