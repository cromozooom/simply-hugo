{{ $data := getJSON "data/kyc.json" }}
<div class="bg-white">
  <div class="d-flex">
    <side class="min-side-w h-content-tabs scroll scroll--light border-right overflow-y-scroll">
      <div class="p-2">
        {{ range $index, $item := $data.kyc.menu }}
          <div class="z-10">
            <div class="{{ if $index }}pt-3{{ end }}">
              <div class="d-flex justify-content-between py-2">
                <a class="h6 mb-0" href="#">{{ .name }}</a>
                <strong>{{ .type }}</strong>
              </div>
            </div>
            <div class="d-flex flex-column gap-1 pt-2">
              {{ range $index, $item := .links }}
                {{ $dev := 0 }}
                {{ if $dev }}
                  <div class="fa-fingerprint fa-user-police"></div>
                {{ end }}
                <button
                  class="d-flex {{ if eq .state "active" }}active{{ end }}
                w-100 align-items-center btn btn-tabs btn-outline-primary justify-content-between"
                >
                  {{ $state := .state }}
                  <div>
                    <i class="fa-regular fa-{{ .icon }} mr-2"></i>
                    <strong> {{ .name }} </strong>
                  </div>
                  {{ if eq $state "active" }}
                    {{ if eq .status "Submited" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-info px-3 py-2">
                        <i class="fa-light fa-inbox-out"></i>
                        <span> Submited </span>
                      </span>
                    {{ else if eq .status "Validated" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-success px-3 py-2">Validated</span>
                    {{ else if eq .status "Incompleted" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-danger px-3 py-2">Incompleted</span>
                    {{ else if eq .status "Warning" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-warning px-3 py-2">Incompleted</span>
                    {{ end }}
                  {{ else }}
                    {{ if eq .status "Submited" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-soft-info px-3 py-2">
                        <i class="fa-regular fa-inbox-out mr-1"></i>
                        <span> Submited </span>
                      </span>
                    {{ else if eq .status "Validated" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-soft-success px-3 py-2">Validated</span>
                    {{ else if eq .status "Incompleted" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-soft-danger px-3 py-2">Incompleted</span>
                    {{ else if eq .status "Warning" }}
                      <span class="badge border-ink-primary badge-with-icon badge-pill badge-soft-warning px-3 py-2">Warning</span>
                    {{ end }}
                  {{ end }}
                </button>
              {{ end }}
            </div>
          </div>
        {{ end }}
      </div>
    </side>
    <div class="flex-grow-1 h-content-tabs scroll scroll--light overflow-y-scroll">
      <div class="d-flex justify-content-between align-items-center px-2 pb-2 pt-3">
        <h6 class="mb-0">KYC Information</h6>
        <div class="d-flex justify-content-between align-items-cente gap-2">
          <a href="#">
            <i class="fa-solid fa-rotate"></i>
          </a>
          <a href="#">
            <i class="fa-solid fa-arrow-up-right-from-square"></i>
          </a>
        </div>
      </div>
      <div class="d-flex w-100 mb-3 gap-2 px-2">
        {{ range $index, $item := $data.kyc.forms }}
          <div>
            <div class="card card-hover card-hover-soft-primary">
              <div class="card-body text-center">
                <h5 class="card-title">{{ .title }}</h5>
                <p class="card-text">
                  {{ .short }}
                </p>
                <div>
                  {{ $status := newScratch }}
                  {{ $status.Set "status" "info" }}
                  {{ if ge .percentage 100 }}
                    {{ $status.Set "status" "success" }}
                  {{ end }}
                  {{ if lt .percentage 10 }}
                    {{ $status.Set "status" "danger" }}
                  {{ end }}
                  <div class="pie position-relative d-flex justify-content-center align-items-baseline my-3" style="--val: {{ .percentage }}deg; --status: var(--{{ $status.Get "status" }});">
                    <div class="pie-overflow">
                      <div class="pie-bar"></div>
                    </div>
                    <strong class="pie-count h5"><span>{{ .percentage }}</span>%</strong>
                  </div>
                </div>
                <a href="#" class="btn btn-soft-secondary mt-3">Go somewhere</a>
              </div>
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>
</div>
